[![N|Solid](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F78a7db29-cc15-4469-be78-1df6a87d0198%2Fidus_artist_service_icon_280.png&blockId=7c0934b3-1339-479d-8e0a-2bf05c8d7341&width=256)](https://bigin.io/main)
- # 김경한 백패커/아이디어스 과제



- ### 개발 환경
    |구분|제품명|Version|
    |------|---|---|
    |개발언어|Java|11|
    |Framework|SpringBoot|2.6|
    |데이터베이스|H2|1.4.200|

### Swagger-ui URL
http://localhost:8080/swagger-ui/index.html


- ### 테이블 생성 쿼리문
    ```
      create table member (
       id bigint generated by default as identity,
        email varchar(100) not null,
        gender varchar(255),
        last_order_id bigint,
        name varchar(20) not null,
        nickname varchar(30) not null,
        password varchar(255) not null,
        phone varchar(20) not null,
        primary key (id)
    )
  
      create table order_table (
       id bigint generated by default as identity,
        price bigint,
        member_id bigint,
        primary key (id)
    )
  
  
    ```
- ### 테스트 방법
  1. POST /member/join
      - 회원 가입
      - Request Sample
          ```
           {
                "name": "가",
                "nickname": "123",
                "password": "123412312123",
                "phone": "010-233-5667",
                "email": "test2@gmail.com"
          }
          ```
        
      - response Sample
          ```
         OK
          ```
2. POST /member/login
    - 로그인 
    - Request Sample
        ```
        {
             "email": "가",
             "password": "123423123123"
        }
        ```
        
    - response Sample
        ```
        OK
        ```
3. POST /member/logout
    - 로그아웃 (session 값을 통한 유효성 검증)
    - Request Sample
        ```
        X
        ```
        
    - response Sample
        ```
         Logout OK
        ```

4. GET /member/detail
    - 단일 회원 상세 정보 조회 
    - Request Sample
        ```
        http://127.0.0.1:8080/member/detail?email=test2@gmail.com
        ```

    - response Sample
        ```
         {
            "name": "나",
            "nickname": "123",
            "phone": "010-233-5667",
            "email": "test2@gmail.com",
            "gender": null,
            "lastOrder": null
         }
        ```

5. GET /member/order
   - 단일 회원의 주문 목록 조회
   - Request Sample
       ```
       http://127.0.0.1:8080/member/order?email=test@gmail.com
       ```

   - response Sample
     ```
     [
      {
         "id": 7,
          "price": 10000,
          "memberEmail": "test2@gmail.com"
      },
      {
          "id": 8,
          "price": 20000,
          "memberEmail": "test2@gmail.com"
      },
      {
          "id": 9,
          "price": 30000,
          "memberEmail": "test2@gmail.com"
      }
     ]
     ```

     1. GET /members
         - 여러 회원 목록 조회
           - 페이지네이션으로 일정 단위로 조회합니다.
           - 이름, 이메일을 이용하여 검색 기능이 필요합니다.
           - 각 회원의 마지막 주문 정보
               - Request Sample
                   ```
                   {
                        "limit": 10,
                        "offset": 0,
                        "name" : "나",
                        "email" : "test2@gmail.com"
                   }
                   ```

               - response Sample
                 ```
                 [
                    {
                       "name": "나",
                       "nickname": "123",
                       "phone": "010-233-5667",
                       "email": "test2@gmail.com",
                       "gender": null,
                       "lastOrder": {
                       "id": 9,
                       "price": 30000
                       }
                    }
                 ]
                 ```
     
